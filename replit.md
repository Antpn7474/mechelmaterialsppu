# Telegram Бот для Сбора Предложений

## Описание проекта
Telegram бот для сотрудников ООО "Мечел-Материалы" для сбора предложений по улучшению процессов и условий работы. Бот включает систему управления предложениями с административной панелью.

## Возможности

### Для пользователей:
- Подача предложений по улучшению с подробным описанием
- Просмотр истории своих предложений
- Отслеживание статуса предложений
- Получение уведомлений об изменении статуса

### Для администраторов:
- Просмотр всех предложений от сотрудников
- Изменение статуса предложений (Новый, Принято к рассмотрению, Удовлетворено, Отказано)
- Добавление комментариев к предложениям
- Автоматическое уведомление пользователей об изменениях

## Структура проекта
```
/
├── bot.py              # Основной файл бота
├── suggestions.json    # Хранилище данных (создается автоматически)
├── replit.md          # Документация проекта
└── .gitignore         # Игнорируемые файлы
```

## Настройка

### Переменные окружения (Secrets)
Для работы бота необходимо настроить следующие переменные в Secrets:

1. **BOT_TOKEN** - токен вашего Telegram бота (получите у @BotFather)
2. **ADMIN_IDS** - ID администраторов через запятую (например: 1618247541,9876543210)

### Как получить Bot Token:
1. Найдите @BotFather в Telegram
2. Отправьте команду /newbot
3. Следуйте инструкциям для создания бота
4. Скопируйте полученный токен в переменную BOT_TOKEN

### Как узнать свой ID:
1. Найдите @userinfobot в Telegram
2. Отправьте ему любое сообщение
3. Он вернет ваш ID

## Технологии
- Python 3.11
- python-telegram-bot - библиотека для работы с Telegram Bot API
- JSON - для хранения данных

## Запуск
Бот запускается автоматически через Workflow на Replit. После настройки переменных окружения бот будет работать постоянно.

## Хранение данных
Данные хранятся в файле `suggestions.json` со следующей структурой:
```json
[
  {
    "id": 1,
    "user_id": 123456789,
    "user_name": "Иван Иванов",
    "text": "Текст предложения...",
    "date": "2025-10-20T10:30:00",
    "status": "Новый",
    "comment": "Комментарий администратора"
  }
]
```

## Последние изменения
- 2025-10-20: Первоначальное развертывание на Replit
- Перенесены секретные данные (BOT_TOKEN, ADMIN_IDS) в переменные окружения
- Настроен автоматический запуск через Workflow

## Будущие улучшения
- Миграция с JSON на PostgreSQL для надежного хранения данных
- Экспорт предложений в Excel/CSV
- Система фильтрации по статусу и датам
- Статистика и отчеты
- Множественные уровни администраторов
